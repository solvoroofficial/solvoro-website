<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solvoro â€” Dashboard</title>
<style>
body{font-family:'Inter',sans-serif;background:#071024;color:#e6eef6;margin:0;padding:20px;}
h2{margin-bottom:12px;}
table{width:100%;border-collapse:collapse;margin-top:20px;color:#e6eef6;}
th, td{border:1px solid #333;padding:8px;text-align:left;}
button{padding:10px 20px;border:none;border-radius:12px;background:linear-gradient(90deg,#7c3aed,#06b6d4);color:#fff;cursor:pointer;margin-top:20px;}
button:hover{filter:brightness(1.1);}
</style>
</head>
<body>

<div id="dashboardContainer"></div>

<script>
const dashboardContainer = document.getElementById('dashboardContainer');
const loggedUser = localStorage.getItem('loggedInUser');
const adminUser = 'admin';

if(!loggedUser){
  alert('Please login first!');
  window.location.href = 'login.html';
}

const allUsers = JSON.parse(localStorage.getItem('allUsers') || '{}');

if(loggedUser === adminUser){
  // Admin dashboard
  let html = `<h2>Admin Dashboard</h2>
              <p>All registered users:</p>
              <table>
              <tr><th>Username</th><th>Full Name</th><th>Email</th><th>Phone</th><th>Last Login</th></tr>`;
  for(const user in allUsers){
    html += `<tr>
      <td>${user}</td>
      <td>${allUsers[user].fullname}</td>
      <td>${allUsers[user].email}</td>
      <td>${allUsers[user].phone}</td>
      <td>${allUsers[user].lastLogin || 'Never'}</td>
    </tr>`;
  }
  html += `</table><button id="logoutBtn">Logout</button>`;
  dashboardContainer.innerHTML = html;
} else {
  // User dashboard
  const user = allUsers[loggedUser];
  dashboardContainer.innerHTML = `
    <h2>Welcome, ${user.fullname}!</h2>
    <p><strong>Username:</strong> ${loggedUser}</p>
    <p><strong>Email:</strong> ${user.email}</p>
    <p><strong>Phone:</strong> ${user.phone}</p>
    <p><strong>Last Login:</strong> ${user.lastLogin || 'First login'}</p>
    <button id="logoutBtn">Logout</button>
  `;
}

document.getElementById('logoutBtn').addEventListener('click', ()=>{
  localStorage.removeItem('loggedInUser');
  window.location.href = 'index.html';
});
</script>

</body>
</html>
